import type { NextPage } from "next";
import Head from "next/head";
import { trpc } from "../utils/trpc";
import {useRouter} from "next/router";

const Home: NextPage = () => {
    const router = useRouter();

    const { mutate } = trpc.useMutation("lobby.create", {
        onSuccess: (data) => {
            router.push(`/lobby/${data.lobbyCode}`);
        },
    });

    return (
    <>
        <Head>
            <title>Create T3 App</title>
                <meta name="description" content="Generated by create-t3-app" />
            <link rel="icon" href="/favicon.ico" />
        </Head>

        <div className="btn-group">
            <button className="btn btn-primary" onClick={() => {mutate()}}>Create</button>
            <button className="btn">Join</button>
        </div>
    </>
  );
};

export default Home;
